<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EA FC 25 Stats</title>
  <link href="https://fonts.googleapis.com/css2?family=Carme&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color-light: #f9f9f9;
      --text-color-light: #333;
      --bg-color-dark: #333;
      --text-color-dark: #f9f9f9;
      --card-bg-light: #fff;
      --card-bg-dark: #444;
      --border-color-light: #ddd;
      --border-color-dark: #555;
    }

    body {
      font-family: 'Carme', sans-serif;
      background-color: var(--bg-color-light);
      color: var(--text-color-light);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      transition: background-color 0.3s, color 0.3s;
    }

    h1 {
      font-weight: 400;
      text-align: center;
      margin: 20px 0;
    }

    button {
      font-weight: bold;
      padding: 10px 20px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
    }

    button:hover {
      background-color: #45a049;
    }

    .danger {
      background-color: #f44336;
    }

    .danger:hover {
      background-color: #e53935;
    }

    .dark-mode {
      background-color: var(--bg-color-dark);
      color: var(--text-color-dark);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid var(--border-color-light);
      padding: 8px;
      text-align: center;
    }

    .dark-mode th, .dark-mode td {
      border-color: var(--border-color-dark);
    }

    th {
      background-color: #f4f4f4;
      font-weight: bold;
    }

    .dark-mode th {
      background-color: #555;
    }

    .scroll-buttons {
      position: fixed;
      right: 20px;
      bottom: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .scroll-buttons button {
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 10px;
      cursor: pointer;
      opacity: 0.8;
      transition: opacity 0.3s;
    }

    .scroll-buttons button:hover {
      opacity: 1;
    }

    #penalty-section {
      display: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>EA FC 25 Stats</h1>

  <button id="toggle-theme">Toggle Dark Mode</button>

  <button id="clear-stats" class="danger">Clear All Statistics</button>

  <form id="match-form">
    <label for="tournament">Choose a Tournament:</label>
    <select id="tournament" required>
      <option value="rivals">Rivals</option>
      <option value="qualification">Qualification Weekend League</option>
      <option value="weekend_league">Weekend League</option>
    </select>

    <label for="score">Enter Score (e.g., 2:1):</label>
    <input type="text" id="score" required placeholder="Enter score (e.g., 2:1)" list="score-suggestions" />
    <datalist id="score-suggestions"></datalist>

    <div id="penalty-section">
      <label for="penalty-score">Penalty Score (e.g., 4:3):</label>
      <input type="text" id="penalty-score" placeholder="Enter penalty score (e.g., 4:3)" />
    </div>

    <button type="submit">Submit Match</button>
  </form>

  <div id="stats">
    <h2>Statistics</h2>
    <table>
      <thead>
        <tr>
          <th>Tournament</th>
          <th>Games</th>
          <th>Wins</th>
          <th>Losses</th>
          <th>Draws</th>
          <th>Goals Scored</th>
          <th>Goals Conceded</th>
        </tr>
      </thead>
      <tbody id="stats-body">
      </tbody>
    </table>
  </div>

  <div id="match-results">
    <h2>Match Results</h2>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Tournament</th>
          <th>Score</th>
          <th>Penalty</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="results-body">
      </tbody>
    </table>
  </div>

  <div class="scroll-buttons">
    <button id="scroll-up">Scroll to Top</button>
    <button id="scroll-down">Scroll to Bottom</button>
  </div>

  <script>
    const stats = {
      rivals: { games: 0, wins: 0, losses: 0, draws: 0, goalsScored: 0, goalsConceded: 0 },
      qualification: { games: 0, wins: 0, losses: 0, draws: 0, goalsScored: 0, goalsConceded: 0 },
      weekend_league: { games: 0, wins: 0, losses: 0, draws: 0, goalsScored: 0, goalsConceded: 0 },
    };

    const results = [];

    document.getElementById('toggle-theme').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });

    document.getElementById('scroll-up').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    document.getElementById('scroll-down').addEventListener('click', () => {
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    });

    const tournamentSelect = document.getElementById('tournament');
    const penaltySection = document.getElementById('penalty-section');

    tournamentSelect.addEventListener('change', () => {
      penaltySection.style.display = 'none';
      document.getElementById('penalty-score').value = '';
    });

    document.getElementById('match-form').addEventListener('submit', (e) => {
      e.preventDefault();

      const tournament = tournamentSelect.value;
      const score = document.getElementById('score').value;
      const penaltyScore = document.getElementById('penalty-score').value;
      const [goalsScored, goalsConceded] = score.split(':').map(Number);
      const date = new Date().toLocaleString();

      if (goalsScored === goalsConceded && (tournament === 'qualification' || tournament === 'weekend_league')) {
        penaltySection.style.display = 'block';
        if (!penaltyScore) {
          alert('Penalty score is required for a draw in this tournament.');
          return;
        }
      }

      const result = {
        tournament,
        score,
        penalty: penaltyScore || 'N/A',
        date,
      };

      results.push(result);
      stats[tournament].games += 1;
      stats[tournament].goalsScored += goalsScored;
      stats[tournament].goalsConceded += goalsConceded;

      if (goalsScored > goalsConceded || (goalsScored === goalsConceded && penaltyScore)) {
        stats[tournament].wins += 1;
      } else if (goalsScored < goalsConceded) {
        stats[tournament].losses += 1;
      } else {
        stats[tournament].draws += 1;
      }

      updateStatsTable();
      updateResultsTable();
    });

    function updateStatsTable() {
      const statsBody = document.getElementById('stats-body');
      statsBody.innerHTML = '';

      for (const tournament in stats) {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${tournament}</td>
          <td>${stats[tournament].games}</td>
          <td>${stats[tournament].wins}</td>
          <td>${stats[tournament].losses}</td>
          <td>${stats[tournament].draws}</td>
          <td>${stats[tournament].goalsScored}</td>
          <td>${stats[tournament].goalsConceded}</td>
        `;
        statsBody.appendChild(row);
      }
    }

    function updateResultsTable() {
      const resultsBody = document.getElementById('results-body');
      resultsBody.innerHTML = '';

      results.forEach((result, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${index + 1}</td>
          <td>${result.tournament}</td>
          <td>${result.score}</td>
          <td>${result.penalty}</td>
          <td>${result.date}</td>
          <td><button class="danger" onclick="deleteResult(${index})">Delete</button></td>
        `;
        resultsBody.appendChild(row);
      });
    }

    function deleteResult(index) {
      const result = results[index];
      const [goalsScored, goalsConceded] = result.score.split(':').map(Number);

      stats[result.tournament].games -= 1;
      stats[result.tournament].goalsScored -= goalsScored;
      stats[result.tournament].goalsConceded -= goalsConceded;

      if (goalsScored > goalsConceded || (goalsScored === goalsConceded && result.penalty !== 'N/A')) {
        stats[result.tournament].wins -= 1;
      } else if (goalsScored < goalsConceded) {
        stats[result.tournament].losses -= 1;
      } else {
        stats[result.tournament].draws -= 1;
      }

      results.splice(index, 1);
      updateStatsTable();
      updateResultsTable();
    }

    document.getElementById('clear-stats').addEventListener('click', () => {
      if (confirm('Are you sure you want to clear all statistics and match results?')) {
        for (const tournament in stats) {
          stats[tournament] = { games: 0, wins: 0, losses: 0, draws: 0, goalsScored: 0, goalsConceded: 0 };
        }
        results.length = 0;
        updateStatsTable();
        updateResultsTable();
      }
    });
  </script>
</body>
</html>
